{let t=function(){let t=$("#new-post-form");t.submit((function(s){s.preventDefault(),$.ajax({type:"post",url:"/posts/create/",data:t.serialize(),success:function(t){console.log(t.data);let s=e(t.data.post);$("#posts-list-container>ul").prepend(s),n($(" .delete-post-button",s)),new Noty({theme:"relax",text:"Post Published!",layout:"topRight",timeout:1500,type:"success"}).show()},error:function(t){console.log(t.responseText)}})}))},e=function(t){return $(`<li class="card p-2 m-2 border-0 shadow" id="post-${t._id}">\n        <p>\n            \n            <span class="fs-3">${t.content}</span>\n                <a href="/posts/destroy/${t.id}">\n                    <small><button type="button" class="btn btn-danger mx-1 btn-sm delete-post-button"><i class="fas fa-trash-alt"></i></button></small>\n                </a>    \n            <br>\n            <small class="text-secondary">${t.user.name}</small>\n        </p>\n    \n        <div class="post-comments card bg-light p-3 border-0">\n                <form action="/comments/create" method="post" class="p-2">\n    \n                    <div class="input-group mb-3">\n                        <input type="text" name="content" class="form-control" placeholder="Type comments here..." required>\n                        <input type="hidden" name="post" value="${t._id}">\n                        <button class="btn btn-primary" type="submit"><i class="fas fa-angle-right"></i></button>\n                    </div>\n    \n                </form>\n            <div class="post-comments-list">\n                <ul id="post-comments-${t._id}">\n                    \n                </ul>\n            </div>\n        </div>\n    </li>`)},n=function(t){console.log("delete link",$(t)),$(t).click((function(e){e.preventDefault(),console.log("data from delete",$(t).prop("href")),$.ajax({type:"get",url:$(t).prop("href"),success:function(e){console.log("data from delete",$(t).prop("href")),$(`#${t.prevObject[0].id}`).remove()},error:function(t){console.log(t.responseText)}})}))};t()}